model Order {
  id             String        @id @default(uuid())
  orderNumber    String        @unique
  userId         String
  user           User          @relation(fields: [userId], references: [id])
  
  // customerName   String
  // customerEmail  String
  // customerPhone  String
  // shippingAddress String

  totalAmount     Float
  discountAmount  Float       @default(0)
  // shippingAmount  Float       @default(0)
  finalAmount     Float

  status          OrderStatus @default(PENDING)
  // paymentMethod   PaymentMethod
  paymentStatus   PaymentStatus @default(PENDING)
  // trackingNumber  String?
  // notes           String?
  // invoiceUrl      String?

  orderItems      OrderItem[]

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model OrderItem {
  id           String          @id @default(uuid())
  orderId      String
  order        Order           @relation(fields: [orderId], references: [id], onDelete: Cascade)

  productId    String
  product      Product         @relation(fields: [productId], references: [id])

  variantId    String?
  variant      ProductVariant? @relation(fields: [variantId], references: [id])

  quantity     Int
  unitPrice    Float
  totalPrice   Float

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@unique([orderId, productId, variantId])
}


